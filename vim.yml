---
- name: Install vimrc
  file:
    state: link
    src: "{{ ansible_user_dir }}/dotfiles/vimrc"
    dest: "{{ ansible_user_dir}}/.vimrc"

- name: Create vim autoload Dir
  file:
    state: directory
    path: "{{ ansible_user_dir }}/.vim/autoload"

- name: Install vim pathogen
  file:
    state: link
    src: "{{ ansible_user_dir }}/dotfiles/autoload/pathogen.vim"
    dest: "{{ ansible_user_dir }}/.vim/autoload/pathogen.vim"

- name: Install vim pathogen bundles
  git:
    repo: "git://github.com/{{ item.org }}/{{ item.repo }}"
    dest: "{{ ansible_user_dir}}/.vim/bundle/{{ item.repo }}"
    depth: 1
  async: 20
  poll: 0
  with_items:
    - org: altercation
      repo: vim-colors-solarized

    - org: editorconfig
      repo: editorconfig-vim

    - org: janko-m
      repo: vim-test

    - org: junegunn
      repo: fzf

    - org: junegunn
      repo: fzf.vim

    - org: prettier
      repo: vim-prettier

    - org: tpope
      repo: vim-commentary

    - org: tpope
      repo: vim-fugitive

    - org: tpope
      repo: vim-git

    - org: tpope
      repo: vim-markdown
